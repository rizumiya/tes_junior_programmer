{% extends 'base.html' %}

{% block title %}TJP | HOME{% endblock %}

{% block js_atas %}
<script>
    function tampilSemua() {
        document.getElementById('semua_data_input').value = 'True';
        document.getElementById('ganti_data').submit();
    }
</script>
{% endblock%}

{% block content %}
<h3 class="body-text py-2 mx-4" id="#data_produk">Data Produk *</h3>

<table class="table table-dark table-striped mx-auto mt-4" style="width: 95%;">
    <colgroup>
        <col style="width: 5%" />
        <col style="width: 45%" />
        <col style="width: 15%" />
        <col style="width: 20%" />
        <col style="width: 15%" />
    </colgroup>
    <tr>
        <th class="text-center">No</th>
        <th class="text-center">Nama Produk</th>
        <th class="text-center">Harga</th>
        <th class="text-center">Kategori</th>
        <th class="text-center">Status</th>
    </tr>
    {% for p in data %}
    <tr class="item-produk">
        <td class="custom-label" style="display: none;">{{ p.id_produk }}</td>
        <td class="custom-label text-center">{{ forloop.counter }}</td>
        <td class="custom-label">{{ p.nama_produk }}</td>
        <td class="custom-label">Rp. {{ p.harga }}</td>
        <td class="custom-label">{{ p.kategori_id.nama_kategori }}</td>
        <td class="custom-label text-center">{{ p.status_id.nama_status }}</td>
    </tr>
    {% endfor %}
</table>
<p class="mt-2 mx-4">
    <small class="custom-label">
        *) Hanya menampilkan data produk yang bisa dijual, tekan tombol di bawah ini untuk melihat seluruh data produk
    </small>
</p>
<form id="ganti_data" method="get">
    {% csrf_token %}
    <input type="hidden" id="semua_data_input" name="semua_data" value="False">
    <button class="btn mx-4 mb-3 custom-button" type="button" onclick="tampilSemua()">Tampilkan semua data</button>
</form>
{% endblock %}

{% block script %}
<script>

</script>
{% endblock %}